{"version":3,"sources":["apis/firebase.js","apis/stories.js","actions/index.js","components/Auth.js","components/SearchBar.js","components/StoriesList.js","components/BottomNavBar.js","components/Loader.js","components/CommentsList.js","components/FilterPopup.js","components/App.js","reducers/index.js","reducers/savedStoriesReducer.js","reducers/signInReducer.js","reducers/storiesReducer.js","reducers/commentsReducer.js","reducers/filterReducer.js","reducers/sortSelectionReducer.js","reducers/storySelectionReducer.js","reducers/searchStoriesReducer.js","index.js"],"names":["Firebase","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","axios","create","baseURL","fetchSavedStories","userId","dispatch","a","ref","database","state","on","snapshot","val","type","payload","errorObject","Auth","signInWithGoogle","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","props","signIn","currentUser","uid","photoURL","catch","error","console","log","signOutOfGoogle","signOut","onAuthStateChanged","user","this","isSignedIn","className","style","display","backgroundColor","color","cursor","onClick","src","alt","Component","connect","authentication","SearchBar","onFormSubmit","event","preventDefault","onSubmit","target","value","mouseClickHandler","flag","displayFilter","placeholder","onChange","filter","StoriesList","agoTimeHelper","difference","daysDifference","Math","floor","hoursDifference","minutesDifference","storyId","saved","includes","addSavedStory","alreadyThere","prevSaved","index","indexOf","splice","push","set","stories","timestamp","Date","getTime","map","story","time","comments","commentsLink","hasOwnProperty","kids","length","to","id","key","marginTop","marginBottom","href","url","rel","title","margin","by","score","savedIconHandler","renderList","BottomNavBar","classNameHelper","page","currentPage","fetching","storyType","Loader","position","CommentsList","loaderHandler","loading","renderComments","fetchingComments","displayComments","prevprops","comment","deleted","replies","repliesLink","text","replace","ownProps","match","params","isFetching","get","response","data","commentIds","promises","Promise","all","FilterPopup","onChangeValue","sort","onChangeStoryValue","savedColumn","name","defaultChecked","App","filterDisplayHandler","sortTypeSelection","storyTypeSelection","onSearchSubmit","term","searchStories","loadingHandler","sortedStories","storiesHelper","sortType","b","toLowerCase","searchTerm","fetchingStories","displayStories","basename","process","path","exact","component","search","storyIds","slice","combineReducers","action","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a7b96c79.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA3mPv1VGarfc26yBty0dyOJA3oAG-nnfQ\",\r\n  authDomain: \"butterhn-b80de.firebaseapp.com\",\r\n  databaseURL: \"https://butterhn-b80de.firebaseio.com\",\r\n  projectId: \"butterhn-b80de\",\r\n  storageBucket: \"butterhn-b80de.appspot.com\",\r\n  messagingSenderId: \"7354074403\",\r\n  appId: \"1:7354074403:web:7fdb429886ebeee06a7896\",\r\n  measurementId: \"G-WNW9GV3WD7\",\r\n};\r\n\r\nexport const Firebase = firebase.initializeApp(firebaseConfig);\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://hacker-news.firebaseio.com/v0/\",\r\n});","import stories from \"../apis/stories\";\r\nimport Firebase from 'firebase';\r\n\r\nexport const signIn = (userId, photoURL) => {\r\n  return {\r\n    type: \"SIGN_IN\",\r\n    payload: { userId, photoURL },\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: \"SIGN_OUT\",\r\n  };\r\n};\r\n\r\nexport const displayFilter = (flag) => {\r\n  return {\r\n    type: \"DISPLAY_FILTER\",\r\n    payload: { flag },\r\n  };\r\n};\r\n\r\nexport const sortTypeSelection = (sortType) => {\r\n  return {\r\n    type: \"SORT_TYPE_SELECTION\",\r\n    payload: { sortType },\r\n  };\r\n};\r\n\r\nexport const storyTypeSelection = (storyType) => {\r\n  return {\r\n    type: \"STORY_TYPE_SELECTION\",\r\n    payload: { type: storyType },\r\n  };\r\n};\r\n\r\nexport const searchStories = (term) => {\r\n  return {\r\n    type: \"SEARCH_STORIES\",\r\n    payload: { searchTerm: term },\r\n  };\r\n};\r\n\r\nexport const fetchingStories = (page) =>{\r\n  return {\r\n    type: \"DISPLAY_STORIES\",\r\n    payload: { result: [], currentPage: page ,isFetching: true},\r\n  };\r\n};\r\n\r\nexport const fetchSavedStories = (userId) => {\r\n  //console.log(\"Fetching\");\r\n  if(userId){\r\n    //console.log(\"Not Null\");\r\n    return async (dispatch) => {\r\n      let ref = Firebase.database().ref(`/${userId}/`);\r\n      let state=[];\r\n      ref.on('value', snapshot => {\r\n        state = snapshot.val();\r\n        //console.log(state);\r\n        if(state === null)\r\n          state=[];\r\n        dispatch({\r\n          type: \"SAVED_STORIES\",\r\n          payload: state\r\n        });\r\n      },errorObject => {\r\n        //console.log(\"The read failed: \" + errorObject.code);\r\n        dispatch({\r\n          type: \"SAVED_STORIES\",\r\n          payload: []\r\n        });\r\n      });\r\n    };\r\n}\r\nelse{\r\n  return {\r\n    type: \"SAVED_STORIES\",\r\n    payload: []\r\n  };\r\n}\r\n};\r\n\r\nexport const displayStories = (page, storyType, saved=[]) => {\r\n  //console.log(page,storyType,saved);\r\n  return async (dispatch) => {\r\n    let storyIds=[];\r\n    if(storyType !== \"saved\"){\r\n      const response = await stories.get(`${storyType}.json`);\r\n      storyIds = response.data;\r\n    }\r\n    else\r\n      storyIds=saved;\r\n    //console.log(storyIds);\r\n    const promises = storyIds\r\n      .slice((page - 1) * 20, page * 20)\r\n      .map((id) =>\r\n        stories.get(`item/${id}.json`).then((response) => response.data)\r\n      );\r\n    const result = await Promise.all(promises);\r\n    //result.sort((a, b) => (a.score > b.score ? -1 : 1));\r\n    dispatch({\r\n      type: \"DISPLAY_STORIES\",\r\n      payload: { result: result, currentPage: page ,isFetching: false},\r\n    });\r\n  };\r\n};\r\n\r\nexport const fetchingComments = () =>{\r\n  return {\r\n    type: \"DISPLAY_COMMENTS\",\r\n    payload: { result: [],isFetching: true},\r\n  };\r\n};\r\n\r\nexport const displayComments = (id) => {\r\n  return async (dispatch) => {\r\n    const response = await stories.get(`item/${id}.json`);\r\n    if (response.data.hasOwnProperty(\"kids\")) {\r\n      const commentIds = response.data.kids;\r\n      const promises = commentIds.map((id) =>\r\n        stories.get(`item/${id}.json`).then((response) => response.data)\r\n      );\r\n      const result = await Promise.all(promises);\r\n      //console.log(result);\r\n      dispatch({\r\n        type: \"DISPLAY_COMMENTS\",\r\n        payload: {result:result,isFetching:false}\r\n      });\r\n    }\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport { Firebase } from \"../apis/firebase\";\r\n\r\nimport { signIn, signOut } from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Auth extends Component {\r\n  componentDidMount() {\r\n    //firebase.initializeApp(firebaseConfig);\r\n    Firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        //console.log(user.photoURL);\r\n        this.props.signIn(user.uid, user.photoURL);\r\n      } else {\r\n        this.props.signOut();\r\n      }\r\n    });\r\n  }\r\n\r\n  signInWithGoogle = () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n    const auth = firebase.auth();\r\n    auth\r\n      .signInWithPopup(provider)\r\n      .then((result) => {\r\n        //console.log(auth.currentUser);\r\n        this.props.signIn(auth.currentUser.uid, auth.currentUser.photoURL);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n\r\n    //console.log(auth);\r\n  };\r\n\r\n  signOutOfGoogle = () => {\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        // Sign-out successful.\r\n        this.props.signOut();\r\n      })\r\n      .catch(function (error) {\r\n        // An error happened.\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.isSignedIn) {\r\n      return (\r\n        <div\r\n          className=\"ui large image label\"\r\n          style={{ backgroundColor: \"#05386b\", color: \"white\",cursor: \"pointer\" }}\r\n          onClick={() => this.signInWithGoogle()}\r\n        >\r\n          Sign In\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div\r\n          className=\"ui large image label\"\r\n          style={{ display:\"flex\", backgroundColor: \"#05386b\", color: \"white\" ,cursor: \"pointer\"}}\r\n          onClick={() => this.signOutOfGoogle()}\r\n        >\r\n          <img className=\"ui avatar image\" src={this.props.photoURL} alt=\"\" />\r\n          Sign Out\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  //console.log(state);\r\n  return {\r\n    isSignedIn: state.authentication.isSignedIn,\r\n    photoURL: state.authentication.photoURL,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  signIn,\r\n  signOut,\r\n})(Auth);\r\n","import React, { Component } from \"react\";\r\nimport \"../css/SearchBar.css\";\r\nimport Auth from \"./Auth\";\r\n\r\nimport { displayFilter } from \"../actions/index\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass SearchBar extends Component {\r\n  onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(event.target.value);\r\n  };\r\n\r\n  mouseClickHandler = () => {\r\n    //console.log(this.props.flag);\r\n    if (this.props.flag) this.props.displayFilter(false);\r\n    else this.props.displayFilter(true);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"ui segment container1\"\r\n        style={{ backgroundColor: \"#5cdb95\" }}\r\n      >\r\n        <div className=\"butter\">\r\n          <h1 className=\"h1\">butter HN</h1>\r\n        </div>\r\n        <div className=\"ui form searchbar\">\r\n          <div className=\"ui icon input\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search stories by title or author\"\r\n              onChange={this.onFormSubmit}\r\n            />\r\n            <i className=\"circular search icon\"></i>\r\n          </div>\r\n          <button className=\"btn\" onClick={this.mouseClickHandler}>\r\n            <i className=\"sliders horizontal icon big filter\"></i>\r\n          </button>\r\n        </div>\r\n        <div className=\"auth\">\r\n          <Auth />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToprops = (state) => {\r\n  //console.log(state);\r\n  return { flag: state.filter.flag };\r\n};\r\n\r\nexport default connect(mapStateToprops, { displayFilter })(SearchBar);\r\n","import React, { Component } from \"react\";\r\nimport \"../css/StoriesList.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  fetchSavedStories,\r\n} from \"../actions/index\";\r\nimport { connect } from \"react-redux\";\r\nimport Firebase from 'firebase';\r\n\r\nclass StoriesList extends Component {\r\n  componentDidMount(){\r\n    //if(prevprops.auth.userId !== this.props.auth.userId)\r\n      this.props.fetchSavedStories(this.props.auth.userId);\r\n  }\r\n  agoTimeHelper = (difference) => {\r\n    var daysDifference = Math.floor(difference / 1000 / 60 / 60 / 24);\r\n    difference -= daysDifference * 1000 * 60 * 60 * 24;\r\n\r\n    var hoursDifference = Math.floor(difference / 1000 / 60 / 60);\r\n    difference -= hoursDifference * 1000 * 60 * 60;\r\n\r\n    var minutesDifference = Math.floor(difference / 1000 / 60);\r\n    difference -= minutesDifference * 1000 * 60;\r\n\r\n    if (daysDifference === 0) {\r\n      if (hoursDifference === 0) {\r\n        if (minutesDifference === 0) {\r\n          return \"A few moments ago\";\r\n        } else {\r\n          if (minutesDifference === 1) return \"a minute ago\";\r\n          return minutesDifference + \" minutes ago\";\r\n        }\r\n      } else {\r\n        if (hoursDifference === 1) return \"an hour ago\";\r\n        return hoursDifference + \" hours ago\";\r\n      }\r\n    } else {\r\n      if (daysDifference === 1) return \"a day ago\";\r\n      return daysDifference + \" days ago\";\r\n    }\r\n  };\r\n\r\n  savedIconHandler(storyId){\r\n    if(this.props.saved.includes(storyId))\r\n    return <i className=\"bookmark saved icon\" onClick={()=>this.addSavedStory(storyId,true)}></i>;\r\n    else\r\n    return <i className=\"bookmark saved outline icon\" onClick={()=>this.addSavedStory(storyId,false)}></i>;\r\n  };\r\n\r\n  addSavedStory(storyId,alreadyThere){\r\n    //console.log(\"Clicked\");\r\n    if(this.props.auth.userId){\r\n      let ref = Firebase.database().ref(`/${this.props.auth.userId}/`);\r\n      let prevSaved=this.props.saved;\r\n      if(alreadyThere){\r\n        const index = prevSaved.indexOf(storyId);\r\n        if (index > -1) {\r\n          prevSaved.splice(index, 1);\r\n        }\r\n      }\r\n      else\r\n        prevSaved.push(storyId);\r\n      ref.set(prevSaved);\r\n  }\r\n  }\r\n\r\n  renderList(stories) {\r\n    //console.log(stories);\r\n    var date = new Date();\r\n    var timestamp = date.getTime();\r\n    return stories.map((story) => {\r\n      //console.log(story);\r\n      var difference = timestamp - story.time * 1000;\r\n      var comments = 0;\r\n      let commentsLink = \"0\";\r\n      if (story.hasOwnProperty(\"kids\")) {\r\n        comments = story.kids.length;\r\n        commentsLink = <Link to={`/comments/${story.id}`}>{comments}</Link>;\r\n      }\r\n      return (\r\n        <div\r\n          className=\"event ui segment\"\r\n          key={story.id}\r\n          style={{\r\n            backgroundColor: \"#edf5e1\",\r\n            marginTop: \"4px\",\r\n            marginBottom: \"4px\",\r\n          }}\r\n        >\r\n          <div className=\"content\">\r\n            <div className=\"summary\">\r\n              <a href={story.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                <h3 style={{ color: \"#05386b\" }}>{story.title}</h3>\r\n              </a>\r\n              <div className=\"extra text date\">\r\n                <a href={story.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  {story.url}\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"meta ui five column grid container\"\r\n              style={{ margin: \"auto\" }}\r\n            >\r\n              <div className=\"extra text column\">{story.by}</div>\r\n              <div className=\"date column\">\r\n                {this.agoTimeHelper(difference)}\r\n              </div>\r\n              <div className=\"meta column\">\r\n                <i className=\"comment outline icon\"></i>\r\n                {commentsLink}\r\n              </div>\r\n              <div className=\"meta like column\" style={{ color: \"#db2828\" }}>\r\n                <i className=\"like red icon\"></i>\r\n                {story.score}\r\n              </div>\r\n              <div className=\"column\">\r\n                {this.savedIconHandler(story.id)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui relaxed divided list\">\r\n        {this.renderList(this.props.stories)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  //console.log(state);\r\n  return {\r\n    auth: state.authentication,\r\n    saved: state.saved\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchSavedStories,\r\n})(StoriesList);\r\n","import React, { Component } from \"react\";\r\nimport \"../css/BottomNavBar.css\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass BottomNavBar extends Component {\r\n  classNameHelper = (page) => {\r\n    if (page === this.props.currentPage) return \"active active1 item\";\r\n    else return \"normal item\";\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"bottomnavbar\">\r\n        <div className=\"ui pagination flex-wrap menu\">\r\n          <div\r\n            className={this.classNameHelper(1)}\r\n            onClick={() =>{\r\n              this.props.fetching(1);\r\n              this.props.page(1, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            1\r\n          </div>\r\n          <div\r\n            className={this.classNameHelper(2)}\r\n            onClick={() => {\r\n              this.props.fetching(2);\r\n              this.props.page(2, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            2\r\n          </div>\r\n          <div\r\n            className={this.classNameHelper(3)}\r\n            onClick={() =>{\r\n              this.props.fetching(3);\r\n              this.props.page(3, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            3\r\n          </div>\r\n          <div\r\n            className={this.classNameHelper(4)}\r\n            onClick={() =>{\r\n              this.props.fetching(4);\r\n              this.props.page(4, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            4\r\n          </div>\r\n          <div\r\n            className={this.classNameHelper(5)}\r\n            onClick={() =>{\r\n              this.props.fetching(5);\r\n              this.props.page(5, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            5\r\n          </div>\r\n          <div\r\n            className={this.classNameHelper(6)}\r\n            onClick={() => {\r\n              this.props.fetching(6);\r\n              this.props.page(6, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            6\r\n          </div>\r\n          <div\r\n            className={this.classNameHelper(7)}\r\n            onClick={() => {\r\n              this.props.fetching(7);\r\n              this.props.page(7, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            7\r\n          </div>\r\n          <div\r\n            className={this.classNameHelper(8)}\r\n            onClick={() => {\r\n              this.props.fetching(8);\r\n              this.props.page(8, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            8\r\n          </div>\r\n          <div\r\n            className={this.classNameHelper(9)}\r\n            onClick={() => {\r\n              this.props.fetching(9);\r\n              this.props.page(9, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            9\r\n          </div>\r\n          <div\r\n            className={this.classNameHelper(10)}\r\n            onClick={() => {\r\n              this.props.fetching(10);\r\n              this.props.page(10, this.props.storyType,this.props.saved);\r\n            }\r\n          }\r\n          >\r\n            10\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  //console.log(state);\r\n  return {\r\n    saved: state.saved,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(BottomNavBar);\r\n","import React, { Component } from 'react';\r\nclass Loader extends Component {\r\n    render() { \r\n        return ( \r\n            <div className=\"ui segment\" style={{position:\"static\"}}>\r\n                <div className=\"ui active inverted dimmer\">\r\n                    <div className=\"ui massive text loader\">Loading...</div>\r\n                </div>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Loader;","import React, { Component } from \"react\";\r\nimport { fetchingComments,displayComments } from \"../actions/index\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../css/CommentsList.css\";\r\nimport Loader from \"./Loader\";\r\n\r\nclass CommentsList extends Component {\r\n  componentDidMount() {\r\n    //console.log(this.props.storyId);\r\n    this.props.fetchingComments();\r\n    this.props.displayComments(this.props.storyId);\r\n  }\r\n\r\n  componentDidUpdate(prevprops) {\r\n    //console.log(prevprops.storyId, this.props.storyId);\r\n    if (prevprops.storyId !== this.props.storyId){\r\n      this.props.fetchingComments();\r\n      this.props.displayComments(this.props.storyId);\r\n    }\r\n  }\r\n\r\n  agoTimeHelper = (difference) => {\r\n    var daysDifference = Math.floor(difference / 1000 / 60 / 60 / 24);\r\n    difference -= daysDifference * 1000 * 60 * 60 * 24;\r\n\r\n    var hoursDifference = Math.floor(difference / 1000 / 60 / 60);\r\n    difference -= hoursDifference * 1000 * 60 * 60;\r\n\r\n    var minutesDifference = Math.floor(difference / 1000 / 60);\r\n    difference -= minutesDifference * 1000 * 60;\r\n\r\n    if (daysDifference === 0) {\r\n      if (hoursDifference === 0) {\r\n        if (minutesDifference === 0) {\r\n          return \"A few moments ago\";\r\n        } else {\r\n          if (minutesDifference === 1) return \"a minute ago\";\r\n          return minutesDifference + \" minutes ago\";\r\n        }\r\n      } else {\r\n        if (hoursDifference === 1) return \"an hour ago\";\r\n        return hoursDifference + \" hours ago\";\r\n      }\r\n    } else {\r\n      if (daysDifference === 1) return \"a day ago\";\r\n      return daysDifference + \" days ago\";\r\n    }\r\n  };\r\n\r\n  renderComments(comments) {\r\n    //console.log(comments);\r\n    var date = new Date();\r\n    var timestamp = date.getTime();\r\n    return comments.map((comment) => {\r\n      if (comment.deleted) {\r\n        return null;\r\n      }\r\n      var difference = timestamp - comment.time * 1000;\r\n      var replies = 0;\r\n      let repliesLink = \"0\";\r\n      let text = \"\";\r\n      if (comment.hasOwnProperty(\"kids\")) {\r\n        replies = comment.kids.length;\r\n        repliesLink = <Link to={`/comments/${comment.id}`}>{replies}</Link>;\r\n      }\r\n      if (comment.hasOwnProperty(\"text\")) {\r\n        text = comment.text.replace(/<(.|\\n)*?>/g, \"\");\r\n      }\r\n      return (\r\n        <div\r\n          className=\"event ui segment\"\r\n          key={comment.id}\r\n          style={{\r\n            backgroundColor: \"#edf5e1\",\r\n            marginTop: \"4px\",\r\n            marginBottom: \"4px\",\r\n          }}\r\n        >\r\n          <div className=\"content\">\r\n            <div className=\"summary\">{text}</div>\r\n            <div\r\n              className=\"meta ui five column grid container\"\r\n              style={{ margin: \"auto\" }}\r\n            >\r\n              <div className=\"extra text column\">{comment.by}</div>\r\n              <div className=\"date column\">\r\n                {this.agoTimeHelper(difference)}\r\n              </div>\r\n              <div className=\"meta column\">\r\n                <i className=\"comment outline icon\"></i>\r\n                {repliesLink}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  loaderHandler=()=>{\r\n    if(this.props.loading)\r\n    return <Loader/>;\r\n    else \r\n    return (\r\n      <div className=\"bg\">\r\n        <div className=\"ui relaxed divided list\">\r\n          {this.renderComments(this.props.comments)}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.loaderHandler()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  //console.log(state);\r\n  return {\r\n    storyId: ownProps.match.params.id,\r\n    comments: state.comments.result,\r\n    loading: state.comments.isFetching,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchingComments,displayComments })(CommentsList);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nclass FilterPopup extends Component {\r\n  onChangeValue = (event) => {\r\n    this.props.sort(event.target.value);\r\n  };\r\n  onChangeStoryValue = (event) => {\r\n    this.props.storyType(event.target.value);\r\n  };\r\n\r\n  savedColumn = () => {\r\n    if (this.props.isSignedIn) \r\n    return (\r\n      <div className=\"column\">\r\n        <div className=\"ui form\">\r\n          <div\r\n            className=\"grouped fields\"\r\n            onChange={this.onChangeStoryValue}\r\n          >\r\n            <h4>Saved</h4>\r\n            <div className=\"field\">\r\n              <div className=\"ui radio checkbox\">\r\n                <input type=\"radio\" value=\"saved\" name=\"storyType\" />\r\n                <label>View Saved</label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  );\r\n    else return null;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui fluid\">\r\n        <div className=\"ui four column relaxed equal height divided grid\">\r\n          <div className=\"column\">\r\n            <div className=\"ui form\">\r\n              <div className=\"grouped fields\" onChange={this.onChangeValue}>\r\n                <h4>Sort By</h4>\r\n                <div className=\"field\">\r\n                  <div className=\"ui radio checkbox\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      value=\"popularity\"\r\n                      name=\"sort\"\r\n                      defaultChecked=\"false\"\r\n                    />\r\n                    <label>Popularity</label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"field\">\r\n                  <div className=\"ui radio checkbox\">\r\n                    <input type=\"radio\" value=\"title\" name=\"sort\" />\r\n                    <label>Title</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"column\">\r\n            <div className=\"ui form\">\r\n              <div\r\n                className=\"grouped fields\"\r\n                onChange={this.onChangeStoryValue}\r\n              >\r\n                <h4>Stories</h4>\r\n                <div className=\"field\">\r\n                  <div className=\"ui radio checkbox\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      value=\"topstories\"\r\n                      name=\"storyType\"\r\n                      defaultChecked=\"false\"\r\n                    />\r\n                    <label>Top Stories</label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"field\">\r\n                  <div className=\"ui radio checkbox\">\r\n                    <input type=\"radio\" value=\"newstories\" name=\"storyType\" />\r\n                    <label>New Stories</label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"field\">\r\n                  <div className=\"ui radio checkbox\">\r\n                    <input type=\"radio\" value=\"beststories\" name=\"storyType\" />\r\n                    <label>Best Stories</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"column\">\r\n            <div className=\"ui form\">\r\n              <div\r\n                className=\"grouped fields\"\r\n                onChange={this.onChangeStoryValue}\r\n              >\r\n                <h4>HN</h4>\r\n                <div className=\"field\">\r\n                  <div className=\"ui radio checkbox\">\r\n                    <input type=\"radio\" value=\"askstories\" name=\"storyType\" />\r\n                    <label>Ask HN</label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"field\">\r\n                  <div className=\"ui radio checkbox\">\r\n                    <input type=\"radio\" value=\"showstories\" name=\"storyType\" />\r\n                    <label>Show HN</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {this.savedColumn()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  //console.log(state);\r\n  return {\r\n    isSignedIn: state.authentication.isSignedIn,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(FilterPopup);\r\n","import React, { Component } from \"react\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport StoriesList from \"./StoriesList\";\r\nimport BottomNavBar from \"./BottomNavBar\";\r\nimport CommentsList from \"./CommentsList\";\r\nimport FilterPopup from \"./FilterPopup\";\r\nimport \"../css/App.css\";\r\n\r\nimport {\r\n  displayStories,\r\n  fetchingStories,\r\n  fetchSavedStories,\r\n  sortTypeSelection,\r\n  storyTypeSelection,\r\n  searchStories,\r\n} from \"../actions/index\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport Loader from \"./Loader\";\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchingStories(this.props.currentPage);\r\n    this.props.displayStories(this.props.currentPage, this.props.storyType);\r\n  }\r\n\r\n  componentDidUpdate(prevprops) {\r\n    //console.log(prevprops.storyId, this.props.storyId);\r\n    if (prevprops.storyType !== this.props.storyType){\r\n      if(this.props.storyType !== \"saved\"){\r\n        this.props.fetchingStories(this.props.currentPage);\r\n        this.props.displayStories(this.props.currentPage, this.props.storyType);\r\n      }\r\n      else{\r\n        this.props.fetchingStories(this.props.currentPage);\r\n        this.props.displayStories(this.props.currentPage, this.props.storyType,this.props.saved);\r\n      }\r\n    }\r\n  }\r\n\r\n  filterDisplayHandler = (flag) => {\r\n    if (flag)\r\n      return (\r\n        <div className=\"filterlayout\">\r\n          <FilterPopup\r\n            sort={this.props.sortTypeSelection}\r\n            storyType={this.props.storyTypeSelection}\r\n          />\r\n        </div>\r\n      );\r\n    else return null;\r\n  };\r\n\r\n  onSearchSubmit = async (term) => {\r\n    //console.log(term);\r\n    this.props.searchStories(term);\r\n  };\r\n\r\n  loadingHandler = (sortedStories) => {\r\n    if(this.props.loading)\r\n    return (\r\n      <div className=\"main1\">\r\n          {this.filterDisplayHandler(this.props.flag)}\r\n          <Loader/>\r\n      </div>\r\n    );\r\n    else\r\n    return (\r\n      <div className=\"main\">\r\n          {this.filterDisplayHandler(this.props.flag)}\r\n          <StoriesList stories={sortedStories} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  storiesHelper = () => {\r\n    //console.log(this.props.stories);\r\n    let sortedStories = this.props.stories;\r\n    switch (this.props.sortType) {\r\n      default:\r\n      case \"popularity\":\r\n        sortedStories.sort((a, b) => (a.score > b.score ? -1 : 1));\r\n        break;\r\n      case \"title\":\r\n        sortedStories.sort((a, b) => (a.title > b.title ? 1 : -1));\r\n        break;\r\n    }\r\n    sortedStories = sortedStories.filter((story) => {\r\n      return (story.title + \" \" + story.by)\r\n        .toLowerCase()\r\n        .includes(this.props.searchTerm.toLowerCase());\r\n    });\r\n    return (\r\n      <div>\r\n        <div className=\"navbar\">\r\n          <SearchBar onSubmit={this.onSearchSubmit} />\r\n        </div>\r\n        {this.loadingHandler(sortedStories)}\r\n        <div className=\"bottombar\">\r\n          <BottomNavBar\r\n            storyType={this.props.storyType}\r\n            fetching={this.props.fetchingStories}\r\n            page={this.props.displayStories}\r\n            currentPage={this.props.currentPage}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    //console.log(this.props);\r\n    return (\r\n      <div>\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n          <div>\r\n            <Switch>\r\n              <Route path=\"/\" exact component={this.storiesHelper} />\r\n              <Route path=\"/comments/:id\" exact component={CommentsList} />\r\n            </Switch>\r\n          </div>\r\n        </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  //console.log(state);\r\n  return {\r\n    auth: state.authentication,\r\n    saved: state.saved,\r\n    loading: state.stories.isFetching,\r\n    stories: state.stories.result,\r\n    currentPage: state.stories.currentPage,\r\n    flag: state.filter.flag,\r\n    sortType: state.sort.sortType,\r\n    storyType: state.storyType.type,\r\n    searchTerm: state.search.searchTerm,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  displayStories,\r\n  fetchingStories,\r\n  fetchSavedStories,\r\n  sortTypeSelection,\r\n  storyTypeSelection,\r\n  searchStories,\r\n})(App);\r\n","import { combineReducers } from \"redux\";\r\nimport storiesReducer from \"./storiesReducer\";\r\nimport commentsReducer from \"./commentsReducer\";\r\nimport filterReducer from \"./filterReducer\";\r\nimport sortSelectionReducer from \"./sortSelectionReducer\";\r\nimport storySelectionReducer from \"./storySelectionReducer\";\r\nimport searchStoriesReducer from \"./searchStoriesReducer\";\r\nimport signInReducer from \"./signInReducer\";\r\nimport savedStoriesReducer from \"./savedStoriesReducer\";\r\n\r\nexport default combineReducers({\r\n  saved: savedStoriesReducer,\r\n  authentication: signInReducer,\r\n  stories: storiesReducer,\r\n  comments: commentsReducer,\r\n  filter: filterReducer,\r\n  sort: sortSelectionReducer,\r\n  storyType: storySelectionReducer,\r\n  search: searchStoriesReducer,\r\n});\r\n","export default (state = [], action) => {\r\n    if (action.type === \"SAVED_STORIES\") {\r\n      return action.payload;\r\n    }\r\n    return state;\r\n  };\r\n  ","export default (\r\n    state = { isSignedIn: false, userId: null, photoURL: \"untitled.png\" },\r\n    action\r\n  ) => {\r\n    switch (action.type) {\r\n      case \"SIGN_IN\":\r\n        return {\r\n          isSignedIn: true,\r\n          userId: action.payload.userId,\r\n          photoURL: action.payload.photoURL,\r\n        };\r\n      case \"SIGN_OUT\":\r\n        return { isSignedIn: false, userId: null, photoURL: \"untitled.png\" };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  ","export default (state = { result: [], currentPage: 1,isFetching: true }, action) => {\r\n    if (action.type === \"DISPLAY_STORIES\") {\r\n      return action.payload;\r\n    }\r\n    return state;\r\n  };\r\n  ","export default (state = { result: [],isFetching: true}, action) => {\r\n    if (action.type === \"DISPLAY_COMMENTS\") {\r\n      return action.payload;\r\n    }\r\n    return state;\r\n  };\r\n  ","export default (state = { flag: false }, action) => {\r\n    if (action.type === \"DISPLAY_FILTER\") {\r\n      return action.payload;\r\n    }\r\n    return state;\r\n  };\r\n  ","export default (state = { sortType: \"popularity\" }, action) => {\r\n    if (action.type === \"SORT_TYPE_SELECTION\") {\r\n      return action.payload;\r\n    }\r\n    return state;\r\n  };\r\n  ","export default (state = { type: \"topstories\" }, action) => {\r\n    if (action.type === \"STORY_TYPE_SELECTION\") {\r\n      return action.payload;\r\n    }\r\n    return state;\r\n  };\r\n  ","export default (state = { searchTerm: \"\" }, action) => {\r\n    if (action.type === \"SEARCH_STORIES\") {\r\n      return action.payload;\r\n    }\r\n  \r\n    return state;\r\n  };\r\n  ","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport App from \"./components/App\";\r\nimport reducers from \"./reducers\";\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}